{
  "version": "2.0",
  "source": "validation_requirements.md",
  "rule_count": 30,
  "rules": [
    {
      "rule_id": "R1",
      "title": "Site Address Validation",
      "description": "All planning applications must include a valid site address.",
      "required_fields": [
        "site_address"
      ],
      "evidence": {
        "source_types": [
          "application_form"
        ],
        "keywords": [
          "address",
          "postcode",
          "location"
        ],
        "min_confidence": 0.6
      },
      "severity": "error",
      "applies_to": ["application_form"],
      "tags": [],
      "rule_category": "FIELD_REQUIRED"
    },
    {
      "rule_id": "R1-SITE-NOTICE",
      "title": "Site Notice Supporting Evidence",
      "description": "Site notices should provide site_address OR postcode OR demolition text as supporting evidence.",
      "required_fields": [
        "site_address",
        "postcode"
      ],
      "required_fields_any": true,
      "evidence": {
        "source_types": [
          "site_notice"
        ],
        "keywords": [
          "address",
          "postcode",
          "demolition"
        ],
        "min_confidence": 0.6
      },
      "severity": "warning",
      "applies_to": ["site_notice"],
      "tags": [],
      "rule_category": "FIELD_REQUIRED"
    },
    {
      "rule_id": "R2",
      "title": "Proposed Use Validation",
      "description": "The proposed use or development type must be clearly stated.",
      "required_fields": [
        "proposed_use"
      ],
      "evidence": {
        "source_types": [
          "application_form",
          "design_statement"
        ],
        "keywords": [
          "use",
          "development",
          "proposal"
        ],
        "min_confidence": 0.6
      },
      "severity": "error",
      "applies_to": ["application_form", "design_statement"],
      "tags": [],
      "rule_category": "FIELD_REQUIRED"
    },
    {
      "rule_id": "R3",
      "title": "Application Reference",
      "description": "Application reference must follow the standard format.",
      "required_fields": [
        "application_ref"
      ],
      "evidence": {
        "source_types": [
          "application_form"
        ],
        "keywords": [],
        "min_confidence": 0.6
      },
      "severity": "error",
      "applies_to": ["application_form"],
      "tags": [],
      "rule_category": "FIELD_REQUIRED"
    },
    {
      "rule_id": "R-DOC-001",
      "title": "Application Form Required",
      "description": "All planning applications must include an application form.",
      "required_fields": [
        "application_form"
      ],
      "evidence": {
        "source_types": [
          "all"
        ],
        "keywords": [],
        "min_confidence": 0.6
      },
      "severity": "error",
      "applies_to": [],
      "tags": ["document_check"],
      "rule_category": "DOCUMENT_REQUIRED"
    },
    {
      "rule_id": "R-DOC-002",
      "title": "Site Plan Required",
      "description": "All planning applications must include a site plan showing the location and boundaries.",
      "required_fields": [
        "site_plan"
      ],
      "evidence": {
        "source_types": [
          "all"
        ],
        "keywords": [],
        "min_confidence": 0.6
      },
      "severity": "error",
      "applies_to": [],
      "tags": ["document_check"],
      "rule_category": "DOCUMENT_REQUIRED"
    },
    {
      "rule_id": "R-CONS-001",
      "title": "Postcode Consistency",
      "description": "Postcode must be consistent across all documents where it appears.",
      "required_fields": [
        "postcode"
      ],
      "evidence": {
        "source_types": [
          "all"
        ],
        "keywords": ["postcode"],
        "min_confidence": 0.6
      },
      "severity": "error",
      "applies_to": [],
      "tags": ["consistency_check"],
      "rule_category": "CONSISTENCY"
    },
    {
      "rule_id": "R-CONS-002",
      "title": "Site Address Consistency",
      "description": "Site address must be consistent across all documents where it appears.",
      "required_fields": [
        "site_address"
      ],
      "evidence": {
        "source_types": [
          "all"
        ],
        "keywords": ["address", "site"],
        "min_confidence": 0.6
      },
      "severity": "error",
      "applies_to": [],
      "tags": ["consistency_check"],
      "rule_category": "CONSISTENCY"
    },
    {
      "rule_id": "R-MOD-001",
      "title": "Modification Parent Reference",
      "description": "Modification submissions (V1+) must reference the parent V0 submission and have a complete delta computation.",
      "required_fields": [],
      "evidence": {
        "source_types": [
          "all"
        ],
        "keywords": [],
        "min_confidence": 0.6
      },
      "severity": "error",
      "applies_to": [],
      "tags": ["modification_check"],
      "rule_category": "MODIFICATION"
    },
    {
      "rule_id": "R4",
      "title": "Certificate Validation",
      "description": "Application must include a valid ownership certificate (A, B, C, or D).",
      "required_fields": [
        "certificate_type"
      ],
      "evidence": {
        "source_types": [
          "application_form"
        ],
        "keywords": ["certificate", "ownership", "sole owner", "notice"],
        "min_confidence": 0.6
      },
      "severity": "error",
      "applies_to": ["application_form"],
      "tags": ["certificate"],
      "rule_category": "FIELD_REQUIRED"
    },
    {
      "rule_id": "R5",
      "title": "Fee Payment",
      "description": "Application must include fee payment information unless exempt.",
      "required_fields": [
        "fee_amount"
      ],
      "required_fields_any": true,
      "evidence": {
        "source_types": [
          "application_form"
        ],
        "keywords": ["fee", "payment", "exempt"],
        "min_confidence": 0.6
      },
      "severity": "warning",
      "applies_to": ["application_form"],
      "tags": ["fee"],
      "rule_category": "FIELD_REQUIRED"
    },
    {
      "rule_id": "R-DOC-003",
      "title": "Design & Access Statement Required",
      "description": "Major applications must include a Design & Access Statement.",
      "required_fields": [
        "design_statement"
      ],
      "evidence": {
        "source_types": [
          "all"
        ],
        "keywords": [],
        "min_confidence": 0.6
      },
      "severity": "warning",
      "applies_to": [],
      "tags": ["document_check", "major_application"],
      "rule_category": "DOCUMENT_REQUIRED"
    },
    {
      "rule_id": "R-DOC-004",
      "title": "Elevations Required",
      "description": "Applications with building changes must include elevation drawings.",
      "required_fields": [
        "elevation"
      ],
      "evidence": {
        "source_types": [
          "all"
        ],
        "keywords": [],
        "min_confidence": 0.6
      },
      "severity": "error",
      "applies_to": [],
      "tags": ["document_check", "building_changes"],
      "rule_category": "DOCUMENT_REQUIRED"
    },
    {
      "rule_id": "R-DOC-005",
      "title": "Floor Plans Required",
      "description": "Applications with internal changes must include floor plans (existing and proposed).",
      "required_fields": [
        "floor_plan"
      ],
      "evidence": {
        "source_types": [
          "all"
        ],
        "keywords": [],
        "min_confidence": 0.6
      },
      "severity": "error",
      "applies_to": [],
      "tags": ["document_check", "internal_changes"],
      "rule_category": "DOCUMENT_REQUIRED"
    },
    {
      "rule_id": "R-CONS-003",
      "title": "Application Reference Consistency",
      "description": "Application reference must be consistent across all documents where it appears.",
      "required_fields": [
        "application_ref"
      ],
      "evidence": {
        "source_types": [
          "all"
        ],
        "keywords": ["application", "reference", "ref"],
        "min_confidence": 0.6
      },
      "severity": "error",
      "applies_to": [],
      "tags": ["consistency_check"],
      "rule_category": "CONSISTENCY"
    },
    {
      "rule_id": "FEE-01",
      "title": "Fee Payment Present",
      "description": "Check fee payment status or receipt reference is present.",
      "required_fields": [
        "fee_payment_status",
        "receipt_reference"
      ],
      "required_fields_any": true,
      "evidence": {
        "source_types": [
          "application_form"
        ],
        "keywords": ["fee", "payment", "receipt", "paid"],
        "min_confidence": 0.6
      },
      "severity": "error",
      "applies_to": ["application_form"],
      "tags": ["fee"],
      "rule_category": "FEE_VALIDATION",
      "config": {
        "valid_statuses": ["PAID", "paid", "Paid"]
      }
    },
    {
      "rule_id": "FEE-02",
      "title": "Fee Amount Plausibility",
      "description": "Fee amount must be positive and within acceptable range for application type.",
      "required_fields": [
        "fee_amount"
      ],
      "evidence": {
        "source_types": [
          "application_form"
        ],
        "keywords": ["fee", "amount", "payment"],
        "min_confidence": 0.6
      },
      "severity": "error",
      "applies_to": ["application_form"],
      "tags": ["fee"],
      "rule_category": "FEE_VALIDATION",
      "config": {
        "min_fee": 0,
        "max_fee": 500000,
        "householder_range": [100, 500],
        "full_application_range": [200, 100000]
      }
    },
    {
      "rule_id": "OWN-01",
      "title": "Exactly One Ownership Certificate",
      "description": "Exactly one ownership certificate (A, B, C, or D) must be provided.",
      "required_fields": [
        "certificate_type"
      ],
      "evidence": {
        "source_types": [
          "application_form"
        ],
        "keywords": ["certificate", "ownership", "A", "B", "C", "D"],
        "min_confidence": 0.6
      },
      "severity": "error",
      "applies_to": ["application_form"],
      "tags": ["ownership", "certificate"],
      "rule_category": "OWNERSHIP_VALIDATION",
      "config": {
        "valid_certificates": ["A", "B", "C", "D"]
      }
    },
    {
      "rule_id": "OWN-02",
      "title": "Certificate Matches Applicant Details",
      "description": "Certificate name/address should match application applicant/agent details.",
      "required_fields": [
        "certificate_name",
        "applicant_name"
      ],
      "evidence": {
        "source_types": [
          "application_form"
        ],
        "keywords": ["certificate", "applicant", "name", "address"],
        "min_confidence": 0.6
      },
      "severity": "warning",
      "applies_to": ["application_form"],
      "tags": ["ownership", "consistency"],
      "rule_category": "OWNERSHIP_VALIDATION"
    },
    {
      "rule_id": "PA-01",
      "title": "Prior Approval Manual Registration Flag",
      "description": "Prior Approval applications require manual registration flag to be set.",
      "required_fields": [],
      "evidence": {
        "source_types": [
          "all"
        ],
        "keywords": ["prior approval"],
        "min_confidence": 0.6
      },
      "severity": "error",
      "applies_to": [],
      "tags": ["prior_approval"],
      "rule_category": "PRIOR_APPROVAL",
      "config": {
        "requires_manual_registration": true
      }
    },
    {
      "rule_id": "PA-02",
      "title": "Prior Approval Required Document Set",
      "description": "Prior Approval applications must contain minimum required document set.",
      "required_fields": [
        "application_form",
        "location_plan"
      ],
      "evidence": {
        "source_types": [
          "all"
        ],
        "keywords": [],
        "min_confidence": 0.6
      },
      "severity": "error",
      "applies_to": [],
      "tags": ["prior_approval", "document_check"],
      "rule_category": "PRIOR_APPROVAL"
    },
    {
      "rule_id": "CON-01",
      "title": "Constraint Declaration Completeness",
      "description": "If constraint flag is set, supporting evidence must be present.",
      "required_fields": [],
      "evidence": {
        "source_types": [
          "all"
        ],
        "keywords": ["constraint", "conservation", "listed", "TPO", "flood"],
        "min_confidence": 0.6
      },
      "severity": "warning",
      "applies_to": [],
      "tags": ["constraints"],
      "rule_category": "CONSTRAINT_VALIDATION"
    },
    {
      "rule_id": "CON-02",
      "title": "Listed Building Heritage Statement Required",
      "description": "If listed building or within conservation area, Heritage Statement is required.",
      "required_fields": [
        "heritage_statement"
      ],
      "evidence": {
        "source_types": [
          "all"
        ],
        "keywords": ["heritage", "listed building", "conservation area"],
        "min_confidence": 0.6
      },
      "severity": "error",
      "applies_to": [],
      "tags": ["constraints", "document_check"],
      "rule_category": "CONSTRAINT_VALIDATION",
      "config": {
        "triggers": ["listed_building", "within_conservation_area"]
      }
    },
    {
      "rule_id": "CON-03",
      "title": "TPO Tree Survey Required",
      "description": "If TPO present or trees affected, tree survey/arboricultural report required.",
      "required_fields": [
        "tree_survey"
      ],
      "evidence": {
        "source_types": [
          "all"
        ],
        "keywords": ["tree", "TPO", "arboricultural", "survey"],
        "min_confidence": 0.6
      },
      "severity": "error",
      "applies_to": [],
      "tags": ["constraints", "document_check"],
      "rule_category": "CONSTRAINT_VALIDATION",
      "config": {
        "triggers": ["tpo", "trees_affected"]
      }
    },
    {
      "rule_id": "CON-04",
      "title": "Flood Zone Flood Risk Assessment Required",
      "description": "If flood zone 2 or 3, Flood Risk Assessment is required.",
      "required_fields": [
        "flood_risk_assessment"
      ],
      "evidence": {
        "source_types": [
          "all"
        ],
        "keywords": ["flood", "FRA", "risk assessment"],
        "min_confidence": 0.6
      },
      "severity": "error",
      "applies_to": [],
      "tags": ["constraints", "document_check"],
      "rule_category": "CONSTRAINT_VALIDATION",
      "config": {
        "triggers": ["flood_zone_2", "flood_zone_3"]
      }
    },
    {
      "rule_id": "BNG-01",
      "title": "BNG Applicability Decision Present",
      "description": "Non-householder applications must have BNG applicability decision recorded.",
      "required_fields": [
        "bng_applicable"
      ],
      "evidence": {
        "source_types": [
          "application_form"
        ],
        "keywords": ["biodiversity", "net gain", "BNG", "10%"],
        "min_confidence": 0.6
      },
      "severity": "error",
      "applies_to": [],
      "tags": ["biodiversity", "BNG"],
      "rule_category": "BNG_VALIDATION",
      "config": {
        "applies_to_types": ["full_application", "major_application"]
      }
    },
    {
      "rule_id": "BNG-02",
      "title": "BNG 10% Claim or Metric Evidence",
      "description": "If BNG applicable, must have 10% improvement claim or metric document.",
      "required_fields": [
        "bng_percentage",
        "bng_metric_doc"
      ],
      "required_fields_any": true,
      "evidence": {
        "source_types": [
          "all"
        ],
        "keywords": ["biodiversity", "metric", "10%", "improvement"],
        "min_confidence": 0.6
      },
      "severity": "error",
      "applies_to": [],
      "tags": ["biodiversity", "BNG"],
      "rule_category": "BNG_VALIDATION",
      "config": {
        "min_percentage": 10
      }
    },
    {
      "rule_id": "BNG-03",
      "title": "BNG Exemption Reason Present",
      "description": "If BNG not applicable, exemption reason and evidence must be present.",
      "required_fields": [
        "bng_exemption_reason"
      ],
      "evidence": {
        "source_types": [
          "application_form"
        ],
        "keywords": ["exempt", "exemption", "BNG"],
        "min_confidence": 0.6
      },
      "severity": "error",
      "applies_to": [],
      "tags": ["biodiversity", "BNG"],
      "rule_category": "BNG_VALIDATION"
    },
    {
      "rule_id": "PLAN-01",
      "title": "Location Plan Scale Present and Acceptable",
      "description": "Location plan must have acceptable scale (1:1250 or 1:2500).",
      "required_fields": [
        "location_plan_scale"
      ],
      "evidence": {
        "source_types": [
          "location_plan"
        ],
        "keywords": ["scale", "1:1250", "1:2500"],
        "min_confidence": 0.6
      },
      "severity": "warning",
      "applies_to": ["location_plan"],
      "tags": ["plan_quality"],
      "rule_category": "PLAN_QUALITY",
      "config": {
        "acceptable_scales": ["1:1250", "1:2500"]
      }
    },
    {
      "rule_id": "PLAN-02",
      "title": "Site Plan North Arrow and Scale Bar",
      "description": "Site plan must have north arrow and scale bar.",
      "required_fields": [
        "site_plan_north_arrow",
        "site_plan_scale_bar"
      ],
      "evidence": {
        "source_types": [
          "site_plan"
        ],
        "keywords": ["north", "arrow", "scale", "bar"],
        "min_confidence": 0.6
      },
      "severity": "warning",
      "applies_to": ["site_plan"],
      "tags": ["plan_quality"],
      "rule_category": "PLAN_QUALITY"
    }
  ]
}